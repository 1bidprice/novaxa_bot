# Enhanced Telegram Bot - Τεκμηρίωση

## Περιεχόμενα
1. [Εισαγωγή](#εισαγωγή)
2. [Αρχιτεκτονική](#αρχιτεκτονική)
3. [Εγκατάσταση](#εγκατάσταση)
4. [Ρύθμιση](#ρύθμιση)
5. [Λειτουργίες](#λειτουργίες)
6. [API Ενσωμάτωση](#api-ενσωμάτωση)
7. [Παρακολούθηση](#παρακολούθηση)
8. [Ανάπτυξη](#ανάπτυξη)
9. [Δοκιμές](#δοκιμές)
10. [Συχνές Ερωτήσεις](#συχνές-ερωτήσεις)
11. [Αντιμετώπιση Προβλημάτων](#αντιμετώπιση-προβλημάτων)
12. [Συνεισφορά](#συνεισφορά)
13. [Άδεια Χρήσης](#άδεια-χρήσης)

## Εισαγωγή

Το Enhanced Telegram Bot είναι μια προηγμένη πλατφόρμα για τη δημιουργία και διαχείριση bots στο Telegram. Παρέχει ένα ολοκληρωμένο σύνολο εργαλείων και λειτουργιών για την ανάπτυξη, παρακολούθηση και συντήρηση των bots σας.

### Βασικά Χαρακτηριστικά

- **Προηγμένη Διαχείριση Εντολών**: Εύκολη προσθήκη και διαχείριση εντολών bot
- **Ενσωμάτωση API**: Απλοποιημένη ενσωμάτωση με εξωτερικές υπηρεσίες και API
- **Παρακολούθηση σε Πραγματικό Χρόνο**: Παρακολούθηση της απόδοσης και της δραστηριότητας του bot
- **Πίνακας Ελέγχου**: Διαδραστικός πίνακας ελέγχου για την παρακολούθηση και διαχείριση του bot
- **Εύκολη Ανάπτυξη**: Απλοποιημένη διαδικασία ανάπτυξης σε διάφορα περιβάλλοντα
- **Εκτενείς Δοκιμές**: Ολοκληρωμένο πλαίσιο δοκιμών για τη διασφάλιση της αξιοπιστίας

## Αρχιτεκτονική

Το Enhanced Telegram Bot είναι δομημένο με μια αρθρωτή αρχιτεκτονική που επιτρέπει την εύκολη επέκταση και συντήρηση. Τα κύρια συστατικά του είναι:

### Βασικά Αρχεία Python

- **enhanced_bot.py**: Το κύριο αρχείο του bot που διαχειρίζεται τις εντολές και τις αλληλεπιδράσεις
- **api.py**: Διαχειρίζεται τις αλληλεπιδράσεις με εξωτερικά API
- **integration.py**: Παρέχει ενσωμάτωση με άλλες υπηρεσίες και πλατφόρμες
- **monitor.py**: Διαχειρίζεται την παρακολούθηση και καταγραφή της δραστηριότητας του bot
- **deploy.py**: Χειρίζεται την ανάπτυξη του bot σε διάφορα περιβάλλοντα
- **deployment_config.py**: Διαχειρίζεται τις ρυθμίσεις ανάπτυξης για διαφορετικά περιβάλλοντα
- **test_deployment.py**: Περιέχει δοκιμές για τη διαδικασία ανάπτυξης
- **test_functionality.py**: Περιέχει δοκιμές για τη λειτουργικότητα του bot

### Scripts Εκτέλεσης

- **render_start.sh**: Script για την εκκίνηση του bot στην πλατφόρμα Render
- **start_dashboard.sh**: Script για την εκκίνηση του πίνακα ελέγχου παρακολούθησης

### Διάγραμμα Αρχιτεκτονικής

```
Enhanced Telegram Bot
│
├── Core Components
│   ├── enhanced_bot.py (Main Bot Logic)
│   ├── api.py (API Integration)
│   └── integration.py (Service Integration)
│
├── Monitoring & Management
│   ├── monitor.py (Monitoring System)
│   └── Dashboard (Web Interface)
│
├── Deployment
│   ├── deploy.py (Deployment Logic)
│   └── deployment_config.py (Configuration)
│
└── Testing
    ├── test_deployment.py (Deployment Tests)
    └── test_functionality.py (Functionality Tests)
```

## Εγκατάσταση

### Προαπαιτούμενα

- Python 3.8 ή νεότερη έκδοση
- pip (Python Package Manager)
- Λογαριασμός Telegram
- Telegram Bot Token από το BotFather

### Βήματα Εγκατάστασης

1. **Κλωνοποιήστε το αποθετήριο**:
   ```bash
   git clone https://github.com/yourusername/enhanced-telegram-bot.git
   cd enhanced-telegram-bot
   ```

2. **Δημιουργήστε ένα εικονικό περιβάλλον** (προαιρετικό αλλά συνιστάται):
   ```bash
   python -m venv venv
   source venv/bin/activate  # Για Linux/Mac
   # ή
   venv\Scripts\activate  # Για Windows
   ```

3. **Εγκαταστήστε τις εξαρτήσεις**:
   ```bash
   pip install -r requirements.txt
   ```

4. **Ρυθμίστε το αρχείο περιβάλλοντος**:
   Δημιουργήστε ένα αρχείο `.env` στον κύριο κατάλογο και προσθέστε το token του bot σας:
   ```
   TELEGRAM_BOT_TOKEN=your_bot_token_here
   DEBUG=true
   LOG_LEVEL=INFO
   ```

5. **Ελέγξτε την εγκατάσταση**:
   ```bash
   python enhanced_bot.py --check
   ```

## Ρύθμιση

### Βασική Ρύθμιση

Η βασική ρύθμιση του bot γίνεται μέσω του αρχείου `.env`. Οι βασικές ρυθμίσεις περιλαμβάνουν:

- `TELEGRAM_BOT_TOKEN`: Το token του bot σας από το BotFather
- `DEBUG`: Ενεργοποίηση/απενεργοποίηση της λειτουργίας αποσφαλμάτωσης (true/false)
- `LOG_LEVEL`: Επίπεδο καταγραφής (DEBUG, INFO, WARNING, ERROR)
- `WEBHOOK_ENABLED`: Ενεργοποίηση/απενεργοποίηση του webhook (true/false)
- `PORT`: Θύρα για το webhook (προεπιλογή: 8443)

### Προηγμένη Ρύθμιση

Για πιο προηγμένες ρυθμίσεις, μπορείτε να τροποποιήσετε το αρχείο `deployment_config.py`. Αυτό σας επιτρέπει να ρυθμίσετε:

- Διαφορετικά περιβάλλοντα (τοπικό, δοκιμαστικό, παραγωγή)
- Ρυθμίσεις webhook
- Μεταβλητές περιβάλλοντος ανά περιβάλλον
- Ρυθμίσεις για την πλατφόρμα Render

### Ρύθμιση Περιβαλλόντων

Μπορείτε να ρυθμίσετε διαφορετικά περιβάλλοντα χρησιμοποιώντας το εργαλείο ρύθμισης:

```bash
python deployment_config.py --env-file .env.production --env production
```

## Λειτουργίες

### Βασικές Εντολές Bot

Το Enhanced Telegram Bot υποστηρίζει τις ακόλουθες βασικές εντολές:

- `/start`: Ξεκινήστε το bot και λάβετε ένα μήνυμα καλωσορίσματος
- `/help`: Εμφανίστε τη βοήθεια και τις διαθέσιμες εντολές
- `/settings`: Διαχειριστείτε τις ρυθμίσεις του bot
- `/status`: Ελέγξτε την κατάσταση του bot και του συστήματος

### Προσθήκη Νέων Εντολών

Μπορείτε εύκολα να προσθέσετε νέες εντολές τροποποιώντας το αρχείο `enhanced_bot.py`:

```python
def new_command(update, context):
    """Handle the new command."""
    context.bot.send_message(
        chat_id=update.effective_chat.id,
        text="This is a new command response!"
    )

# Add the command handler
dispatcher.add_handler(CommandHandler("new", new_command))
```

### Χειρισμός Μηνυμάτων

Το bot μπορεί να χειριστεί διάφορους τύπους μηνυμάτων, συμπεριλαμβανομένων κειμένου, εικόνων, βίντεο και εγγράφων. Μπορείτε να προσαρμόσετε τη συμπεριφορά του τροποποιώντας τη συνάρτηση `message_handler` στο αρχείο `enhanced_bot.py`.

### Χειρισμός Callbacks

Το bot υποστηρίζει κουμπιά inline και callbacks. Μπορείτε να προσθέσετε διαδραστικά κουμπιά και να χειριστείτε τις απαντήσεις τους χρησιμοποιώντας τη συνάρτηση `callback_handler`.

## API Ενσωμάτωση

### Υποστηριζόμενα API

Το Enhanced Telegram Bot μπορεί να ενσωματωθεί με διάφορα API, συμπεριλαμβανομένων:

- RESTful API
- GraphQL API
- Webhook API
- OAuth API

### Προσθήκη Νέας Ενσωμάτωσης API

Για να προσθέσετε μια νέα ενσωμάτωση API, τροποποιήστε το αρχείο `api.py`:

```python
def call_new_api(endpoint, params=None):
    """Call a new API endpoint."""
    base_url = "https://api.example.com"
    url = f"{base_url}/{endpoint}"
    
    response = requests.get(url, params=params)
    return response.json()
```

### Παράδειγμα Χρήσης API

```python
from api import APIClient

# Create API client
api_client = APIClient()

# Call API
weather_data = api_client.get("weather", {"location": "Athens"})

# Use the data
print(f"Temperature: {weather_data['temperature']}°C")
```

## Παρακολούθηση

### Σύστημα Παρακολούθησης

Το Enhanced Telegram Bot περιλαμβάνει ένα ολοκληρωμένο σύστημα παρακολούθησης που σας επιτρέπει να παρακολουθείτε:

- Κατάσταση συστήματος (CPU, μνήμη, δίσκος)
- Δραστηριότητα χρηστών
- Χρόνους απόκρισης
- Σφάλματα και προειδοποιήσεις
- Κλήσεις API

### Πίνακας Ελέγχου

Ο πίνακας ελέγχου παρέχει μια διαδραστική διεπαφή για την παρακολούθηση του bot σας. Για να ξεκινήσετε τον πίνακα ελέγχου:

```bash
./start_dashboard.sh
```

Στη συνέχεια, μπορείτε να αποκτήσετε πρόσβαση στον πίνακα ελέγχου στη διεύθυνση `http://localhost:5000`.

### Καταγραφή

Το σύστημα καταγραφής αποθηκεύει λεπτομερείς πληροφορίες για τη δραστηριότητα του bot. Τα αρχεία καταγραφής αποθηκεύονται στον κατάλογο `logs/`. Μπορείτε να προσαρμόσετε τις ρυθμίσεις καταγραφής στο αρχείο `.env`.

## Ανάπτυξη

### Περιβάλλοντα Ανάπτυξης

Το Enhanced Telegram Bot υποστηρίζει ανάπτυξη σε διάφορα περιβάλλοντα:

- **Τοπικό**: Για τοπική ανάπτυξη και δοκιμές
- **Δοκιμαστικό**: Για δοκιμές πριν την παραγωγή
- **Παραγωγή**: Για το τελικό περιβάλλον παραγωγής

### Ανάπτυξη στο Render

Για να αναπτύξετε το bot στην πλατφόρμα Render:

1. Δημιουργήστε έναν λογαριασμό στο [Render](https://render.com/)
2. Συνδέστε το αποθετήριο GitHub σας
3. Δημιουργήστε μια νέα υπηρεσία Web
4. Ρυθμίστε την εντολή εκκίνησης σε `./render_start.sh`
5. Προσθέστε τις απαραίτητες μεταβλητές περιβάλλοντος (TELEGRAM_BOT_TOKEN, κλπ.)

Εναλλακτικά, μπορείτε να χρησιμοποιήσετε το εργαλείο ανάπτυξης:

```bash
python deploy.py --env production --source . --deploy-dir /path/to/deploy
```

### Χειροκίνητη Ανάπτυξη

Για χειροκίνητη ανάπτυξη σε έναν διακομιστή:

1. Αντιγράψτε τα αρχεία στον διακομιστή:
   ```bash
   scp -r enhanced-telegram-bot/ user@server:/path/to/deploy/
   ```

2. Εγκαταστήστε τις εξαρτήσεις:
   ```bash
   ssh user@server "cd /path/to/deploy && pip install -r requirements.txt"
   ```

3. Ρυθμίστε το αρχείο περιβάλλοντος:
   ```bash
   ssh user@server "cd /path/to/deploy && echo 'TELEGRAM_BOT_TOKEN=your_token' > .env"
   ```

4. Ξεκινήστε το bot:
   ```bash
   ssh user@server "cd /path/to/deploy && ./render_start.sh"
   ```

## Δοκιμές

### Εκτέλεση Δοκιμών

Το Enhanced Telegram Bot περιλαμβάνει ένα ολοκληρωμένο σύνολο δοκιμών. Για να εκτελέσετε τις δοκιμές:

```bash
# Εκτέλεση όλων των δοκιμών
python -m unittest discover

# Εκτέλεση δοκιμών ανάπτυξης
python test_deployment.py

# Εκτέλεση δοκιμών λειτουργικότητας
python test_functionality.py
```

### Προσθήκη Νέων Δοκιμών

Μπορείτε να προσθέσετε νέες δοκιμές επεκτείνοντας τα αρχεία δοκιμών:

```python
def test_new_feature(self):
    """Test a new feature."""
    # Test code here
    result = some_function()
    self.assertEqual(result, expected_value)
```

## Συχνές Ερωτήσεις

### Πώς μπορώ να αλλάξω το token του bot;

Τροποποιήστε το αρχείο `.env` και αλλάξτε την τιμή του `TELEGRAM_BOT_TOKEN`.

### Πώς μπορώ να προσθέσω νέες εντολές;

Προσθέστε νέες συναρτήσεις χειρισμού εντολών στο αρχείο `enhanced_bot.py` και καταχωρίστε τις με το `dispatcher.add_handler()`.

### Πώς μπορώ να παρακολουθήσω τη δραστηριότητα του bot;

Ξεκινήστε τον πίνακα ελέγχου με το script `start_dashboard.sh` και αποκτήστε πρόσβαση στη διεύθυνση `http://localhost:5000`.

### Πώς μπορώ να αναπτύξω το bot σε έναν διακομιστή;

Χρησιμοποιήστε το εργαλείο ανάπτυξης `deploy.py` ή ακολουθήστε τις οδηγίες χειροκίνητης ανάπτυξης στην ενότητα Ανάπτυξη.

## Αντιμετώπιση Προβλημάτων

### Το bot δεν απαντά

1. Βεβαιωθείτε ότι το token του bot είναι σωστό
2. Ελέγξτε ότι το bot είναι σε λειτουργία
3. Ελέγξτε τα αρχεία καταγραφής για σφάλματα
4. Επανεκκινήστε το bot

### Σφάλματα Webhook

1. Βεβαιωθείτε ότι το URL του webhook είναι προσβάσιμο
2. Ελέγξτε ότι χρησιμοποιείτε HTTPS
3. Βεβαιωθείτε ότι η θύρα είναι ανοιχτή (συνήθως 8443, 443, 80, 88)

### Προβλήματα Απόδοσης

1. Ελέγξτε τη χρήση CPU και μνήμης στον πίνακα ελέγχου
2. Μειώστε το επίπεδο καταγραφής αν είναι πολύ λεπτομερές
3. Βελτιστοποιήστε τις κλήσεις API

## Συνεισφορά

Οι συνεισφορές στο Enhanced Telegram Bot είναι ευπρόσδεκτες! Για να συνεισφέρετε:

1. Κάντε fork του αποθετηρίου
2. Δημιουργήστε ένα νέο κλαδί (`git checkout -b feature/amazing-feature`)
3. Κάντε τις αλλαγές σας
4. Κάντε commit τις αλλαγές σας (`git commit -m 'Add amazing feature'`)
5. Κάντε push στο κλαδί (`git push origin feature/amazing-feature`)
6. Ανοίξτε ένα Pull Request

## Άδεια Χρήσης

Το Enhanced Telegram Bot διανέμεται με την άδεια MIT. Δείτε το αρχείο `LICENSE` για περισσότερες πληροφορίες.
